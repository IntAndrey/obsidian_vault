---
title: "Путеводитель по матанализу, который скрывали от вас в вузе"
source: "https://habr.com/ru/articles/964282/"
author:
  - "[[Игорь Воронцов]]"
published: 2025-11-08
created: 2025-11-08
description: "«Суть математики не в том, чтобы делать простые вещи сложными, а в том, чтобы делать сложные вещи простыми». — С. Гуддер Вы когда-нибудь задумывались, почему в компьютерных играх объекты иногда..."
tags:
  - "clippings"
---
> *«Суть математики не в том, чтобы делать простые вещи сложными, а в том, чтобы делать сложные вещи простыми».*
> 
> — С. Гуддер

Вы когда-нибудь задумывались, почему в компьютерных играх объекты иногда проваливаются сквозь текстуры? Или почему финансовые модели так сложны, когда пытаются предсказать курс акций, который кажется то плавным, то скачущим? В основе этих, казалось бы, разных проблем лежит одна и та же фундаментальная идея, над которой бились величайшие умы человечества более двух тысяч лет. Идея **непрерывности**.

Это не просто заумный термин из учебников. Это история о том, как мы пытались соединить мир счётных, отдельных предметов с миром плавного, неделимого движения. Это история о схватке с бесконечностью. Я хочу рассказать её так, как мне не рассказывали в университете: без кванторов и дельт, через парадоксы и гениальные озарения, и при этом без малейшей потери математической строгости. Мы пройдём путь от Аристотеля до создателей матанализа и увидим, как одна красивая идея сформировала наш мир.

Также вы сегодня, возможно, впервые узнаете о том, что победа формализации анализа по Коши вместо альтернативной по Гейне является самой главной причиной того, что понятия и идеи математического анализа остаются непонятными для основной массы студентов. От наглядного и понятного языка, предложенного Гейне, для которого совершенно не нужно использовать эпсилоны и дельты, в учебнике осталось только определение предела по Гейне — и то только потому. что некоторые теоремы без него никак не доказать. Но что еще интереснее — определение предела по Коши вообще не нужно для доказательств!

Прочитав эту статью, вы сможете без особых усилий предельно ясно осознать примерно половину первого семестра университетского курса математического анализа, причем, возможно, даже глубже, чем многие лекторы по математическому анализу.

Приготовьтесь к разоблачению, возможно, самого крупного **обмана** в современном высшем образовании. Суть его проста: по своей природе математический анализ — это наглядная геометрия, но её маскируют под абстрактную алгебру. В результате этого фокуса простой и ясный предмет становится тёмным лесом даже для многих лекторов.

### Предварительный пример

Эта статья — развитие подхода Гейне вместо подхода Коши к изложению анализа. Он остался забытым по историческим причинам. Но прежде чем погружаться в материал, просто посмотрите, насколько проще изложение анализа по Гейне, на одном примере.

**Докажем, что предел функции** `**f(x) = 2x + 1**` **при** `**x**`**, стремящемся к** `**3**`**, равен** `**7**`**.**

**Доказательство №1: Классический путь Коши (стена из эпсилон-дельта)**

Нам нужно доказать, что такое, что из следует .

Рассмотрим . Мы хотим, чтобы , что эквивалентно .

Итак, для любого заданного мы можем выбрать . Тогда, если , мы получаем , и, следовательно, .

Доказано.

*(Чувствуете? Чтобы доказать очевидную вещь, нам пришлось заниматься "обратной разработкой" неравенства. Это похоже не на рассуждение, а на подгонку ответа).*

**Доказательство №2: Элегантный путь Гейне (логичное рассуждение)**

1\. Возьмём **любую** последовательность {xₙ}, которая сходится к `3`.  
2\. По определению предела последовательности это значит, что {xₙ - 3} сходится к `0`.  
3\. Рассмотрим последовательность значений нашей функции: {f(xₙ)} = {2xₙ + 1}.  
4\. Нам нужно доказать, что она сходится к `7`. Для этого посмотрим на разность

5\. Поскольку `{xₙ - 3}` сходится к `0`, то последовательность `{2(xₙ - 3)}`, сходится к `0`.  
6\. А раз `{f(xₙ) - 7}` сходится к `0`, то сама последовательность `{f(xₙ)}` сходится к `7`.  
  
*(Никаких трюков. Просто прямое рассуждение, шаг за шагом, основанное на определениях. Это и есть настоящее понимание).*

## Наше путешествие, шаг за шагом

- **Пролог.** Почему я считаю, что матанализ преподают неправильно.
- **Часть I. Истоки проблемы: от Аристотеля до Кантора**
	- **Глава 1.** Древний разлом: счётные камни против текущей реки.
	- **Глава 2.** Философский ключ: две бесконечности и Гегель.
	- **Глава 3.** Великое объединение: рождение "Множества".
- **Часть II. Как приручить бесконечность**
	- **Глава 4.** Суть анализа: как поймать непрерывность за хвост.
	- **Глава 5.** Осторожно, двери в основания математики!
	- **Глава 6.** Определим числа: строим мир из пустоты.
	- **Глава 7.** Числовые множества: затыкаем дыры в реальности.
	- **Глава 8.** Почему нельзя сосчитать все точки на прямой?
	- **Глава 9.** Красота простоты: как доказать то же самое элегантнее.
- **Часть III. Собираем правильный анализ: без эпсилон-дельта**
	- **Глава 10.** Строим фундамент: аксиомы, определения и теоремы.
	- **Глава 11.** Что дальше? Анализ без страданий и "о-малое".
- **Эпилог. Великий обман: почему анализ — это геометрия, а не алгебра.**

## Почему я считаю, что матанализ преподают неправильно.

Прежде чем излагать материал, расскажу о том, как я к этому пришел. Сейчас я в ВШЭ преподаю олимпиадный факультатив - [обучаю](https://cs.hse.ru/olymp/) студентов ФКН решать задачи с [IMC](https://www.imc-math.org.uk/). Для решения этих задач предельно важно прежде всего очень ясное и четкое понимание теории в математическом анализе и линейной алгебре. Но мне довелось столкнуться и с преподаванием анализа куда более слабым студентам, и я понял их проблемы на практике.

Дело заключается в том, что основной мой доход последние 11 лет составляет частное репетиторство. В 2020-м году эпидемия ковида привела к тому, что я стал дистанционным репетитором и тогда подумал о том, чтобы попробовать жить за пределами Москвы. И поехал в Екатеринбург, потому что раньше там никогда не был и никого оттуда не знал. Спустя год вернулся, но опыт был интересный.

Там я решил поработать преподавателем математического анализа. Оказалось, что преподают там совершенно иначе, чем в МФТИ. В первую очередь, различие в том, какую роль играют семинары в обучении. В МФТИ семинары по математическому анализу полностью соответствуют определению того, что такое семинар: это *одна из форм интерактивного группового обучения в вузах, при которой студенты под руководством преподавателя обсуждают ключевые темы курса, имеющие первостепенное значение в профподготовке, или наиболее трудные для понимания теоретические вопросы.*

Для проведения семинаров есть задачи, указанные в учебной программе, которые используются с целью разъяснения на них теории. Роль задач — в том, чтобы научиться применять теоретический материал и понять его смысл при этом применении.

Программы и учебные планы по предмету утверждаются заново каждый семестр на кафедре, и они являются рабочими документами, на основе которых ведут семинары.

Оказалось, что в Екатеринбурге всё совсем наоборот!

Хотя их документы и рабочие программы выглядели похожи на те, что использовались в МФТИ, реально по ним никто не преподает и создаются они лишь для того, чтобы отчитываться перед чиновниками. При этом составляются они совсем не для того, чтобы их кто-то читал, а принцип составления — соответствие другим подобным формальным документам. Если почитать, что там написано, то это выглядит как что-то, похожее на МФТИ, но в реальности ничего похожего на учебный процесс в МФТИ там не происходит.

Я пытался вести семинары так, как у меня преподавал [Григорий Евгеньевич Иванов](https://wiki.mipt.tech/index.php/%D0%98%D0%B2%D0%B0%D0%BD%D0%BE%D0%B2_%D0%93%D1%80%D0%B8%D0%B3%D0%BE%D1%80%D0%B8%D0%B9_%D0%95%D0%B2%D0%B3%D0%B5%D0%BD%D1%8C%D0%B5%D0%B2%D0%B8%D1%87) в МФТИ, который считается одним из самых лучших преподавателей Физтеха. Начинали мы семинары с обсуждения того, что было на лекциях, и переходили к примерам, на которых можно было разобраться с теоретическим материалом и понять его. На основе обратной реакции от студентов я самостоятельно придумывал задачи на дом подходящего уровня сложности, которые помогли бы им понять материал. Впоследствии оказалось, что это было совершенно несовместимо с учебным процессом.

**Во-первых,** там весь учебный процесс проходит иначе. А именно, лекции не имеют никакого отношения к тому, что происходит на семинарах.

**Во-вторых,** семинары там заключаются в том, что преподаватель быстро разбирает задачи из Демидовича и реальная их цель — заставить студентов выучить, как это решать. Мне позже показали "образцовое видео", на котором семинарист за 15 минут быстро разобрал, красиво записывая, 3 громоздкие задачи. У меня оно вызвало шок, потому что никаких объяснений теории там не было и потому что все 3 задачи были решены неправильно.

**В-третьих,** домашние задания там задают исключительно из Демидовича, и иное совершенно не предусмотрено. Преподаватели аргументировали это тем, что это лучший задачник, который выдержал много поколений студентов, что там очень много скрытого смысла заложено в расположении этих задачи и тому подобным. Однако проблема заключается в том, что Демидович — слишком сложный задачник для этих студентов, он рассчитан на студентов совершенно другого уровня.

**В-четвертых,** все домашние задания там списываются из известного Антидемидовича. Когда я стал задавать студентам на дом задачи, придуманные из головы, то это вызвало у них панику (несмотря на то, что они были сильно проще), так как списать их было неоткуда.

**В-пятых**, эти студенты привыкли к тому, что они не знают и не понимают определений понятий, учат их исключительно к коллоквиуму и зачету. а потом сразу забывают. А попытки разбирать смысл того, что было на лекции у них же, которые в итоге приводили к разбору каждого термина, так как они их не знали совсем, вызывали у них очень серьезное раздражение. Студенты не хотели ничего ��того знать! Причем началось всё с первого же семинара, на котором я стал узнавать, что они поняли с первой лекции, и оказалось, что они даже не смогли четко понять, что такое вложенные друг в друга отрезки (например, никто не смог дать это определение, никто не смог ответить, вложен ли отрезок сам в себя).

**В-шестых,** на семинарах в МФТИ основная задача дотошно разобрать за пару немного примеров, чтобы было понятно, как именно применяется теория для решения задач. Здесь же целью ставится разобрать максимально большое количество примеров, демонстрируя методы решения каждого примера, но нисколько не упоминая, как это связано с теорией. Это отличие прежде всего связано с тем, что в МФТИ отработка навыков решения типовых задач отдается целиком на самостоятельную подготовку (решение домашек), а тут не могут на это полагаться, потому что там студенты массово списывают домашние задания.

В итоге всё закончилось тем, что мною были недовольны и студенты, которые хотели, чтобы их учили как обычно, и преподаватели. Студенты хотели, чтобы я просто давал им под запись методы решения типовых примеров, которые потом помогут им подготовиться к контрольной (и которые они забудут сразу после ее написания), а преподаватели хотели, чтобы я "преподавал как все", но я сам никогда в жизни не учился в вузе, в котором преподают также, как они это делают. Позже я прочитал целую [статью](https://www.mathnet.ru/links/f35082ab84a69233e1323d7e30247b39/mo491.pdf) математика Неретина об ужасах преподавания высшей математики. Но я не успел понять, насколько полно то, что я увидел, соответству��т этому бессмысленному и беспощадному ужасу.

Если говорить о написанном в этой [статье](https://www.mathnet.ru/links/f35082ab84a69233e1323d7e30247b39/mo491.pdf) — могу сказать, что описанное там издевательство над живыми людьми не имеет ничего общего с обучением и требует кардинального пересмотра.

Но мой опыт тогда был очень продуктивным — я понял, почему эти студенты не понимают математический анализ. Главная причина их непонимания была в том, что они не могут рассуждать с помощью кванторов, использовать эпсилоны и дельта. Сами идеи математического анализа и даже все его доказательства не были для них сложны, но этот формализм был для них за пределами возможностей их абстрактного мышления.

Я поставил этот вопрос перед другими преподавателями — оказалось, они совершенно не понимают, что этот формализм для строгих доказательств не нужен, и что есть огромная масса альтернативных способов доказательств. Более того, оказалось, что они сами не в состоянии отличить строгое доказательство от нестрогого, если оно написано словами, а не кванторами. Они не были способны понять доказательство, которое написано в ином стиле, чем в учебнике. Кроме того, они аргументировали необходимость использовать этот формализм не тем, что нужно студентов научить его читать и использовать, а тем, что нужно научить студентов "логическому мышлению" и изложить анализ строго. Я так понял, это "логическое мышление" у них сводится к умению использовать кванторы формально. Примерно как в этой [статье](https://habr.com/ru/articles/207760/) на Хабре, в которой первокурсник и лектор не могли понять сразу, верно простейшее определение или нет, не расписав доказательство или опровержение формально через кванторы, хотя это элементарно сделать без кванторов.

И тогда я понял, что именно этот формализм и служит препятствием для понимания анализа — и у студентов, и даже у лекторов по матанализу. Студентов — потому что они не умеют пользоваться кванторами, у лекторов — потому что они мышление ясными понятиями подменяют формальными операциями со значками, и тоже не понимают материал.

**Это катастрофа. Представьте себе программиста, который умеет писать код, но не понимает, как работает процессор или память. Он может решать типовые задачи, но бессилен перед любой нестандартной проблемой. Именно в таком положении оказываются студенты (и даже преподаватели!), для которых анализ — это набор формальных правил.**

Так что попробуем другой подход!

Я тут не изобретаю велосипед — просто развиваю подход Гейне вместо Коши.

Гейне был одним из титанов "эпохи наведения строгости в анализе".

Его цель была та же, что и у Коши и Вейерштрасса — избавить анализ от туманных рассуждений о "бесконечно малых". Но он предложил **другой путь к строгости**.

- **Строгость по Коши/Вейерштрассу** — это, по сути, виртуозное **владение алгеброй неравенств**. Доказательство сводится к поиску нужного δ для заданного ε.
- **Строгость по Гейне** — это **владение логикой рассуждений**. Как мы видели на примере 2x+1, доказательство — это простая цепочка логических шагов, основанных на определениях.

Гейне показал, что можно быть абсолютно строгим, не превращая математику в механическую работу со значками. Его подход требует **понимания** на каждом шагу, в то время как подход Коши позволяет "механически" доказать утверждение, не поняв его сути.

Преимущество его подхода также в том, что это естественное продолжение школьной программы. К моменту изучения анализа студент уже знаком с последовательностями (арифметическая и геометрическая прогрессии). Идея "бесконечного списка чисел, который к чему-то приближается" — интуитивна. Человеческий мозг интуитивно мыслит динамикой, движением, причинно-следственными связями. Рассказывать историю о "бегущих точках" гораздо естественнее и понятнее, чем разгадывать логический ребус о "коробочках".

Подход Коши, напротив, требует от первокурсника мгновенного овладения самым сложным инструментом в формальной логике — вложенными кванторами всеобщности и существования (∀ε ∃δ...). Это все равно что учить человека водить машину, начав с самостоятельной переборки двигателя.

Логика кванторов — это мощный, но крайне не интуитивный аппарат, и делать его входным билетом в анализ — значит отсеивать почти всех студентов на самом старте.

Таким образом, моя главная идея тут в следующем: стройте новое знание на фундаменте уже существующей интуиции. Не начинайте с самого абстрактного инструмента.

## Часть I. Истоки проблемы: от Аристотеля до Кантора

### Глава 1. Древний разлом: счётные камни против текущей реки.

#### Проблема

С древнейших времён люди видели мир расколотым на две части. С одной стороны — мир **дискретный**, состоящий из отдельных, счётных объектов. Можно пересчитать овец в стаде, воинов в армии, камни на берегу. Один, два, три... сто. Между "одной овцой" и "двумя овцами" нет ничего промежуточного. Мир понятен и структурирован.

С другой стороны — мир **непрерывный**. Время течёт плавно, без рывков. Расстояние можно делить, казалось бы, до бесконечности. Землю можно межевать всё точнее и точнее. Как описать этот мир? Если мы движемся из точки А в точку Б, мы ведь проходим через *все* промежуточные точки. А сколько их? Бесконечность? Что это вообще такое?

Эта двойственность была не просто наблюдением, а глубокой философской проблемой.

#### Противоречие

Великий ум древности, **Аристотель**, был одним из первых, кто всерьёз задумался над этим. Он утверждал, что континуум (непрерывное) не может состоять из неделимых "точек" или "атомов". Почему? А вот почему: если бы линия состояла из точек, то они либо соприкасались бы друг с другом, либо нет.

- Если они не соприкасаются, то между ними есть зазор, и линия не является непрерывной.
- Если они соприкасаются, то они сливаются в одну точку, так как у них нет размера.
	![Парадокс Аристотеля о континууме](https://habrastorage.org/r/w780/getpro/habr/upload_files/101/5bd/e99/1015bde993d2de03274d7e33110e7ee2.png)
	Парадокс Аристотеля о континууме

Получается парадокс! Древние греки не смогли его разрешить. Они видели явное противоречие: наш разум легко считает дискретные объекты, но пасует перед попыткой "сосчитать" точки на линии. Логика, которую Аристотель развивал для классификации (родо-видовое деление, общее и частное), прекрасно работала для мира овец и деревьев, но ломалась при столкновении с понятием бесконечной делимости.

#### Идея!

Греки поступили мудро: они разделили математику. Арифметика занималась дискретным (числами), а геометрия — непрерывным (фигурами). Они избегали говорить о "количестве точек" на прямой, а вместо этого оперировали отношениями и пропорциями.

Это был гениальный обходной путь, который позволил Евклиду построить свою геометрию, но он не решал проблему по существу. Разлом между дискретным и непрерывным остался, и он ждал своего часа почти 2000 лет..

И этот час настал с появлением **исчисления бесконечно малых** у Ньютона и Лейбница. Их гений позволил физикам и инженерам рассчитывать движение планет, строить мосты и машины. Но было одно "но": их метод, по сути, был блестящей интуитивной догадкой. Математика на 150 лет превратилась в набор "магических трюков", которые работали, но никто не мог строго объяснить, почему. Анализ был подобен мощному, но капризному паровому двигателю, который то и дело взрывался парадоксами.

В XIX веке терпение математического сообщества лопнуло. Началась великая "эпоха строгости". Титаны мысли — Больцано, Коши, Вейерштрасс — решили навести порядок и поставить анализ на незыблемый фундамент. Именно в их попытках "легализовать" бесконечно малые и родились те подходы, о которых мы говорим. Но чтобы понять их идеи, нужно сначала нырнуть еще глубже — в философию...

### Глава 2. Философский ключ: две бесконечности и Гегель.

Прошло почти 2000 лет, прежде чем человечество смогло снова подступиться к проблеме, оставленной Аристотелем. Прорыв случился не в математике, а в философии. Чтобы понять, как математики смогли "объединить" дискретное и непрерывное, нам нужно сначала понять, как философы научились мыслить саму Бесконечность.

#### Проблема: "Дурная" и "Истинная" бесконечность

Долгое время под бесконечностью понимали то, что философ **Спиноза** позже назвал **"дурной бесконечностью"**. Это бесконечность как незавершённый процесс: мы можем считать овец `1, 2, 3, ...` и никогда не остановимся. Это бесконечность со знаком "и так далее...". Она всегда неполна, всегда указывает на что-то за горизонтом. Именно эта "дурная бесконечность" не давала грекам покоя: если линия — это бесконечный набор точек, то этот набор никогда не завершён, а значит, и линия не целостна.

Но Спиноза противопоставил ей понятие **"истинной бесконечности"**. Это бесконечность не как процесс, а как **самодостаточная, завершённая целостность**. Представьте себе не счёт овец, а само понятие "Натурального ряда" как единого, законченного объекта. Или всю числовую прямую целиком. "Истинная бесконечность" — это не "много-много", это **"ВСЁ"**. Это Бог или Природа у Спинозы — единая субстанция, содержащая в себе всё.

Проблема математиков заключалась в том, что у них был инструмент только для работы с "дурной бесконечностью" (счёт), а им нужно было описать "истинную бесконечность" (континуум).

#### Противоречие: Всеобщее, Единичное и Особенное

Этот конфликт отражал старый философский спор.

- **Единичное** (конкретное): Вот этот камень, вот эта овца. Мир дискретных объектов.
- **Всеобщее** (абстрактное): Идея "камня вообще", идея "линии как таковой". Мир непрерывных понятий.

Как они связаны? Как из набора **единичных** точек получить **всеобщую** идею непрерывной линии?

#### Идея! Диалектическая триада Гегеля

Решение пришло от **Гегеля**. Его диалектический метод утверждает, что развитие мысли проходит через три стадии: тезис (утверждение), антитезис (его отрицание) и синтез (снятие противоречия в новом, более высоком понятии).

Что здесь тезис, а что антитезис? На этот счет можно спорить.

- С **исторической** точки зрения, тезисом является наш непосредственный опыт — мир **Единичного**, мир счётных предметов. А идея Всеобщего континуума — это сложный антитезис к нему.
- Но с точки зрения **чистой логики**, можно начать и со **Всеобщего**: с интуиции о едином, нерасчлененном континууме. Тогда попытка собрать его из отдельных **Единичных** точек становится актом отрицания, антитезисом.

Давайте пойдем по второму, более глубокому пути.

- **Тезис (Всеобщее):** Существует интуитивное понятие о сплошном, неделимом континууме (линия, время).
- **Антитезис (Единичное):** Мы пытаемся помыслить этот континуум, разложив его на его противоположность — на совокупность отдельных, дискретных точек. И тут же заходим в тупик парадокса Аристотеля.
- **Синтез (Особенное):** Нам нужно новое понятие, которое будет одновременно и **целостным**, как континуум, и **состоящим из элементов**, как набор точек.

Так что же стало великим синтезом в нашей истории?

#### Понятие Множества!

Именно это понятие придумал математик Кантор, вдохновляясь чтением Спинозы на тему разных родов бесконечного.

## Глава 3. Великое объединение: рождение "Множества".

Идея Кантора — это чистый гегелевский синтез.

- **Множество** — это **особенный**, конкретный объект. Мы можем говорить о *этом* множестве.
- Оно состоит из **единичных** элементов, как того требовал тезис.
- Но при этом оно может воплощать в себе **всеобщую** идею, например, "множество ВСЕХ точек на отрезке", тем самым ухватывая идею "истинной бесконечности" как завершённой целостности.

Понятие множества позволило, наконец, говорить о совокупности *всех* точек на прямой как о едином, законченном объекте, состоящем из отдельных элементов. Это был философский прорыв, который открыл дорогу математическому анализу.

Сам Гегель писал, что вся его диалектическая логика — это логика соотношения между собой всеобщего, единичного и особенного в любом понятии. Кантор построил точно такую же логику, только для математических объектов: множество, элемент и подмножество.

Чистое понятие Гегеля — это универсальная форма любого понятия. А множество в математике — универсальная форма любого математического объекта.

**Этот философский прорыв и стал тем универсальным языком, который математики искали со времен Ньютона.**

**Идеи Гегеля и Кантора позволили, наконец, стереть древнюю границу между мирами и говорить о дискретном и непрерывном в одних и тех же терминах.**

- Стадо овец — это множество...
- Отрезок на прямой — это тоже множество...

**Всё стало множеством!**

Теперь мы могли говорить и о дискретном, и о непрерывном в одних и тех же терминах.

![Множество как великий объединитель](https://habrastorage.org/r/w780/getpro/habr/upload_files/5a2/40b/3d0/5a240b3d0705b7d6be450779db76d88e.png)

Множество как великий объединитель

Стало возможным говорить о **подмножествах** (часть множества), об объединении и пересечении. Это позволило задать тот самый вопрос о "нумерации": можем ли мы установить взаимно-однозначное соответствие между элементами множества и натуральными числами (1, 2, 3...)?

- Для овец — можем. Такие множества назвали **счётными**.
- А для точек на отрезке? Кантор доказал, что **не можем**. Точек на отрезке "больше", чем натуральных чисел. Это была революция, которая дала математикам инструмент для работы с разными "сортами" бесконечности. Ниже здесь в статье будет разобрано и доказано, почему не можем.

**Проблема была решена:** непрерывное и дискретное теперь лишь разные типы множеств.

Но, как это часто бывает с гениальными идеями, наивная простота понятия "множество" таила в себе чудовищную ловушку. Прежде чем мы сможем использовать этот инструмент, нам нужно заглянуть в бездну и понять, почему попытка определить "множество" чуть не уничтожила всю математику...

## Часть II. Как приручить бесконечность

### Глава 4. Суть анализа: как поймать непрерывность за хвост.

#### Проблема

Итак, у нас есть числовая прямая — множество точек (действительных чисел). И есть функции, которые действуют на этой прямой. Интуитивно непрерывная функция — это та, график которой можно нарисовать, не отрывая карандаша от бумаги. Но как это сказать строго, на языке математики, без "карандашей"?

Проблема вот в чём: как убедиться, что в функции нет микроскопического разрыва, невидимого глазу? Как описать это свойство "связности"? Говорить "для точки `x` соседняя точка `x+dx` находится рядом" бессмысленно, потому что у точки на прямой нет "соседней". Между любыми двумя точками всегда есть бесконечность других.

#### Противоречие

Математики XIX века (Коши, Вейерштрасс) пытались решить это через статические определения с "эпсилонами" и "дельтами". Это очень мощный, но совершенно не интуитивный язык ("для любой окрестности образа существует окрестность прообраза..."). Он описывает результат, но не процесс. Он не даёт почувствовать *динамику* приближения, которая и есть суть непрерывности.

Казалось, что есть только два пути: либо оставаться на уровне интуитивных "неотрываний карандаша", либо погружаться в абстрактный мир кванторов. Но был и третий путь, предложенный **Генрихом Гейне**.

#### Идея!

Идея Гейне была в том, чтобы проверить непрерывность в одной точке через **бесконечный процесс приближения** к ней.

Представьте, что мы хотим проверить, непрерывна ли функция `f(x)` в точке `x = c`.

1. **Запускаем "разведчиков".** Возьмём не одну точку, а целую **последовательность** точек, которая "сходится" к нашей точке `c`. Например, `c+1`, `c+1/2`, `c+1/3`, `c+1/4`,... Эта последовательность бесконечно близко подходит к `c`. Назовём её `{x_n}`.
2. **Смотрим, куда попали их значения.** Теперь посмотрим, что функция делает с этими точками. Мы получим новую последовательность, состоящую из значений функции: `f(x_1)`, `f(x_2)`, `f(x_3)`,...
3. **Сверяем результат.** Если функция `f(x)` в точке `c` непрерывна, то куда должна сходиться эта новая последовательность? Правильно, к `f(c)`!

**Определение непрерывности по Гейне:**  
Функция `f(x)` непрерывна в точке `c`, если для **любой** последовательности `{x_n}`, сходящейся к `c`, последовательность значений `{f(x_n)}` сходится к `f(c)`.

Это гениально! Мы заменили статичную и непонятную картинку с эпсилонами на динамический процесс. Если функция имеет "разрыв", мы легко это поймаем: мы сможем придумать последовательность, которая подкрадывается к точке разрыва с одной стороны, и тогда её значения устремятся к одному числу, а не к значению функции в самой точке.

#### Что такое "сходится"? Идея "точки сгущения"

А что значит "последовательность сходится к числу `a` "? Это значит, что `a` — её единственная **"точка сгущения"** (или предельная точка).

Представьте, что точки последовательности — это светлячки, которые вспыхивают один за другим. Точка `a` является точкой сгущения, если в любой, даже самой крошечной лупе, которую мы наведём на `a`, окажется **бесконечное** число этих светлячков.

Последовательность *сходится* к `a`, если `a` — это единственное место, где светлячки сгущаются. У них нет другого "центра притяжения".

***Примечание:*** *это определение следует также расширить случаем стремления к бесконечности. Для этого числовую прямую дополняют абстрактной бесконечной точкой, окрестности которой - это неограниченные множества числовой прямой.*

Определение предела по Коши тоже можно наглядно проиллюстрировать, например так

![Понятие предела по Коши - иллюстрация к этим эпсилон и дельта](https://habrastorage.org/r/w780/getpro/habr/upload_files/f7e/44e/107/f7e44e1077352fbc393e62bcfc0c74e8.png)

Понятие предела по Коши - иллюстрация к этим эпсилон и дельта

Однако такое определение всё равно остается намного абстрактнее **точек сгущения**. Определение предела по Коши совершенно не передает **смысл** понятия предела.

![Предел по Гейне](https://habrastorage.org/r/w780/getpro/habr/upload_files/4b1/576/c93/4b1576c936860a0e894c1000c043267d.png)

Предел по Гейне

![Предел по Коши](https://habrastorage.org/r/w780/getpro/habr/upload_files/9a2/38a/d96/9a238ad96c2b8c3d7ca2fea9c24a32c7.png)

Предел по Коши

Но пока что мы не определили все входящие сюда понятия строго. Займемся этим.

### Глава 5. Осторожно, двери в основания математики!

Мы так легко говорим "множество точек", "множество чисел"... Но что это такое — **множество**?

#### Интуиция (и почему она иногда бывает опасна)

Первое определение, которое приходит в голову и которое дал сам основатель теории множеств Георг Кантор, звучит просто и понятно:

> **Наивное определение:**
> 
> Множество — это совокупность определённых и различимых объектов нашего восприятия или нашей мысли, мыслимых как единое целое.

Звучит отлично, правда? Коллекция, мешок с элементами. Просто и ясно. Но в начале XX века эта простота привела математику на грань катастрофы.

#### Проблема

Давайте сыграем в игру. Представьте, что мы можем создать любое множество по любому правилу. Например, "множество всех чашек на моём столе". Легко. А теперь создадим множество похитрее.

Рассмотрим **"множество всех множеств, которые не содержат себя в качестве элемента"**. Назовём его `R`.

Теперь зададим простой вопрос: **Множество** `**R**` **содержит само себя?**

1. **Предположим, ДА,** `**R**` **содержит само себя.** Но по определению, в `R` лежат только те множества, которые себя **не** содержат. Значит, `R` не должно там быть. Противоречие!
2. **Хорошо, тогда НЕТ,** `**R**` **не содержит само себя.** Но по определению, `R` как раз и собирает в себя **все** множества, которые себя не содержат. Значит, `R` **обязано** там лежать. Снова противоречие!

Это не просто словесная эквилибристика. Это логический коллапс.

![Парадокс Рассела](https://habrastorage.org/r/w780/getpro/habr/upload_files/dac/055/ead/dac055eadd766722db023e1d67fafd47.png)

Парадокс Рассела

Мы получили утверждение "А истинно тогда и только тогда, когда А ложно", что разрушает всю формальную логику. Стало ясно, что "создавать" множества простым описанием их свойств ("все объекты, обладающие свойством X") — это как дать обезьяне гранату.

Нужны строгие правила.

#### Современный подход ZFC: не "что это", а "как это работает"

Чтобы избежать парадоксов, математики Эрнст Цермело и Абрахам Френкель разработали систему аксиом ZFC. Её подход гениален в своей осторожности.

Система ZFC **не даёт прямого определения** того, что такое ��ножество.

Вместо этого она говорит:

1. **"Множество" — это базовое, неопределяемое понятие.** Как "точка" или "прямая" в геометрии. Мы не знаем, что это такое, но мы знаем, как оно себя ведёт.
2. Всё поведение множеств описывается набором строгих правил-аксиом. Эти аксиомы — как конституция для мира математики. Они говорят не о том, *что есть* множество, а о том, *что с ним можно и нельзя делать*.

**Так что же такое множество с точки зрения ZFC?**

Если собрать суть аксиом в одно понятное определение, оно будет звучать так:

> **Строгое определение (на основе ZFC):**
> 
> Множество — это фундаментальный объект, который полностью определяется набором своих элементов (**аксиома экстенсиональности**) и может быть построен исключительно способами, разрешёнными аксиомами:
> 
> - Существует хотя бы одно "начальное" множество — пустое (`∅`).
> - Из уже существующих множеств можно создавать новые: образовывать пары, объединять их, выделять подмножества по заданному свойству, строить множество всех подмножеств и так далее.
> - Запрещены логические петли: множество не может содержать само себя, прямо или косвенно (**аксиома фундирования**).

**Ключевая идея, которая всё исправляет:**

Главный предохранитель, который спасает нас от парадокса Рассела — это **аксиома выделения**. Она гласит:

> Нельзя создать множество "всех объектов во Вселенной с свойством Х". Но можно взять **уже существующее** множество `A` и выделить из него **подмножество** тех элементов, которые обладают свойством Х.

Другими словами, мы больше не создаём множества из вакуума. Мы можем только "вырезать" новые подмножества из старых. Чтобы создать "множество парикмахеров, которые бреют всех, кто не бреется сам", нам сначала нужно иметь "множество всех парикмахеров". Парадокс Рассела исчезает, потому что попытка создать его "универсальное" множество `R` оказывается незаконной операцией.

#### Вывод

Раньше мы думали, что множество — это любой "мешок", который можно описать словами. Это привело к противоречию.

Теперь мы считаем, что множество — это объект, который мы строим по строгим чертежам (аксиомам ZFC), начиная с пустого "фундамента". Мы не определяем "кирпич" (множество), а даём инструкцию по его использованию в кладке. Главное правило: нельзя создать "мешок всего на свете", но можно взять один большой легальный мешок и отсыпать из него мешочек поменьше с нужными нам элементами.

Этот подход может показаться менее интуитивным, но именно он обеспечивает железобетонную надёжность всего здания современной математики.

### Глава 6. Определим числа: строим мир из пустоты.

#### Проблема

Мы договорились, что в основе всего лежат множества, которые строятся по строгим правилам ZFC, начиная с пустого множества `∅`. Но позвольте, а где же числа? Мы говорим о числовой прямой, о точках, но откуда они взялись? Если математика — это здание, построенное на фундаменте теории множеств, то как из "ничего" (пустого множества) получить "что-то" (число 1, 2, 3 и так далее)?

#### Противоречие

Кажется, что это неразрешимая задача.

Мы привыкли думать о числах как о чём-то само собой разумеющемся. Но в строгой системе мы не можем просто сказать: "А ещё пусть существуют числа". Это было бы обманом. Мы должны их *построить*, используя только те инструменты, что у нас есть: пустое множество и операции над ним. Как из пустого мешка извлечь счёт?

#### Идея! (Конструкция фон Неймана)

Гениальная идея, предложенная Джоном фон Нейманом, заключается в том, чтобы отождествить число с множеством всех предшествующих ему чисел. Звучит сложно, но на деле это элегантно, как оригами.

1. **Начнём с нуля.** У нас нет ничего, кроме пустого множества `∅`. Логично отождествить его с числом **0**.  
	`0 := ∅`
2. **Создадим единицу.** Что такое **1**? Это следующее число. Давайте определим его как множество, содержащее единственный уже построенный нами объект — ноль.  
	`1 := {0} = {∅}`  
	Это множество уже не пустое, в нём лежит один элемент.
3. **Создадим двойку.** Что такое **2**? Это множество, содержащее все объекты, которые мы построили до этого: 0 и 1.  
	`2 := {0, 1} = {∅, {∅}}`  
	В этом множестве лежат два элемента.
4. **Принцип понятен!** Каждое следующее натуральное число — это множество всех предыдущих.  
	`3 := {0, 1, 2} = {∅, {∅}, {∅, {∅}}}`
![Построение чисел из пустоты по Нейману](https://habrastorage.org/r/w780/getpro/habr/upload_files/19b/d41/d95/19bd41d95de9a800a487b1f12caa8a26.png)

Построение чисел из пустоты по Нейману

Мы только что, имея на руках лишь концепцию "пустоты", построили все натуральные числа! Это не просто фокус. Это строгое доказательство того, что арифметика может быть основана на теории множеств. На этой базе математики строят и всё остальное:

- **Целые числа** — как пары натуральных (a, b), символизирующие `a - b`.
- **Рациональные числа** — как пары целых (m, n), символизирующие `m/n`. Одному рациональному числу соответствует бесконечное множество эквивалентных дробей.
- **Действительные числа** — вот тут начинается самое интересное...

### Глава 7. Числовые множества: затыкаем дыры в реальности.

#### Проблема

Мы построили натуральные числа `ℕ`, затем целые `ℤ` и, наконец, рациональные `ℚ` (все возможные дроби). Рациональные числа кажутся невероятно "плотными". Между любыми двумя дробями, как бы близки они ни были, всегда можно вставить ещё одну бесконечность дробей. Кажется, что они заполняют числовую прямую целиком. Зачем нам что-то ещё?

#### Противоречие

Древние греки верили, что мир гармоничен и любое отношение можно выразить через отношение целых чисел, то есть дробью. Но их же собственная геометрия нанесла им удар в спину. Возьмём квадрат со стороной 1.

По теореме Пифагора, длина его диагонали равна `√2`.

И тут случилась катастрофа. Ученики Пифагора доказали, что `√2` **невозможно** представить в виде дроби. Это число нерационально.

*Легенда гласит, что пифагореец Гиппас, первым доказавший иррациональность √2, был утоплен своими же братьями по ордену за разглашение этой страшной тайны, разрушавшей их картину мира "всё есть число". Это, возможно, первая в истории смерть за математическое открытие.*

Это означало, что на числовой прямой, которую они считали полностью "заселённой" рациональными числами, существуют "дыры", "проколы". Есть длины, которые можно начертить циркулем и линейкой, но нельзя выразить числом, которое они знали. Их картина мира рухнула. Наша интуитивно "сплошная" прямая на самом деле дырявая, как решето, если на ней есть только рациональные числа.

*Эта "дыра" на месте √2 — прадедушка всех багов с floating-point арифметикой в программировании. Ваш компьютер не знает числа π или √2. Он знает лишь их очень хорошие рациональные приближения. Когда вы пишете double x = 0.1; double y = 0.2;, вы можете с удивлением обнаружить, что x + y не совсем равно 0.3. Это происходит потому, что компьютер живет в "дырявом" мире, похожем на мир рациональных чисел ℚ, а не в сплошном континууме ℝ. И иногда эти микроскопические "дыры" приводят к вполне реальным ошибкам в расчетах.*

#### Идея! (Аксиома полноты или Непрерывность Дедекинда)

Чтобы "залечить" эти дыры, математики ввели новое, более мощное множество — **действительные числа** `**ℝ**`. Чем оно отличается от `ℚ`? Мы не доказываем, а *постулируем* его главное свойство. Это **аксиома полноты**, или **аксиома непрерывности**.

Одна из самых наглядных её формулировок принадлежит Рихарду Дедекинду.

**Сечение Дедекинда:**

Представьте, что мы берём острый нож и "разрезаем" всю числовую прямую на два множества: `A` (всё, что слева от разреза) и `B` (всё, что справа).

- **На прямой рациональных чисел** `**ℚ**` мы можем сделать разрез в месте `√2`. Тогда в левом множестве `A` окажутся все дроби, меньшие `√2`, а в правом `B` — все дроби, большие `√2`. Но что на границе? В множестве `A` не будет "самого большого" числа, а в множестве `B` — "самого маленького". Нож прошёл сквозь **дыру**.
- **На прямой действительных чисел** `**ℝ**` такого не случится. Аксиома непрерывности гласит: где бы вы ни сделали разрез, **всегда** найдётся точка, по которой этот разрез прошёл. Эта точка будет либо наибольшей в левом множестве, либо наименьшей в правом. **Дыр нет.**
![Аксиома непрерывности — сечение Дедекинда](https://habrastorage.org/r/w780/getpro/habr/upload_files/2ad/404/dfd/2ad404dfd6fbf025632e3a8b84085bac.png)

Аксиома непрерывности — сечение Дедекинда

Именно это свойство и делает прямую `ℝ` настоящим **континуумом**. Она сплошная. Она непрерывна. Это свойство — фундамент, на котором стоит весь математический анализ. Без него не было бы ни пределов, ни производных, ни интегралов.

### Глава 8. Почему нельзя сосчитать все точки на прямой?

#### Проблема

Итак, мы договорились, что и горсть камней, и линия — это множества. Идея Кантора позволила нам сравнивать их "мощность", то есть количество элементов, даже если оно бесконечно. Мы можем ставить элементы одного множества в пару элементам другого. Если пары сошлись, и ни у кого не осталось "лишних", значит, множества равномощны.

Так мы выяснили, что множество натуральных чисел `{1, 2, 3, ...}` равномощно множеству чётных чисел `{2, 4, 6, ...}`. Это уже немного странно, ведь вторых кажется "в два раза меньше". Но хорошо.

А что насчёт рациональных чисел — всех возможных дробей? Их же гораздо больше, чем целых! Между любыми двумя целыми числами, например, 0 и 1, находится бесконечное количество дробей. Кажется очевидным, что их пронумеровать, выстроить в один ряд по порядку, как мы делаем с натуральными числами, **невозможно**. Ведь куда бы вы ни поставили дробь 1/2, всегда найдётся та, что ещё ближе к нулю, например, 1/3, 1/4, 1/1000... У них нет "первого" элемента после нуля.

Так можно ли их сосчитать?

#### Противоречие

Давайте попробуем их пронумеровать. Мы не можем идти по числовой прямой, но кто сказал, что мы должны? Георг Кантор придумал гениальный трюк. Давайте запишем все положительные дроби в виде таблицы, где по строкам идёт числитель, а по столбцам — знаменатель.

|  | 1 | 2 | 3 | 4 | ... |
| --- | --- | --- | --- | --- | --- |
| **1** | 1/1 | 1/2 | 1/3 | 1/4 | ... |
| **2** | 2/1 | 2/2 | 2/3 | 2/4 | ... |
| **3** | 3/1 | 3/2 | 3/3 | 3/4 | ... |
| **4** | 4/1 | 4/2 | 4/3 | 4/4 | ... |
| **...** | ... | ... | ... | ... | ... |

А теперь давайте пронумеруем их, двигаясь "змейкой" или по диагоналям!

1. Берём **1/1**.
2. Потом **2/1** и **1/2**.
3. Потом **3/1**, **2/2**, **1/3**.
4. Потом **4/1**, **3/2**, **2/3**, **1/4**.
5. И так далее.
![](https://habrastorage.org/r/w780/getpro/habr/upload_files/351/93f/40a/35193f40a57087ccbd6d363933b06488.png)

Пропуская дроби, которые мы уже встречали (например, 2/2 = 1/1 или 2/4 = 1/2), мы получим бесконечный, но вполне упорядоченный список, в который рано или поздно попадёт **любая** дробь.

Это взрывает мозг: множество всех дробей — **счётно**. Их "столько же", сколько и натуральных чисел. Наша интуиция о том, что их "бесконечно больше", оказалась неверной. Рациональные числа, несмотря на свою плотность, лежат на числовой прямой отдельными "точками", как бы близко друг к другу они ни были. Между ними есть "пространство".

И вот теперь главный вопрос: если уж дроби удалось сосчитать, то, может быть, и **все** точки на прямой — все действительные числа, включая √2, π и другие иррациональные — тоже можно сосчитать?

#### Идея!

Давайте сыграем в игру. Предположим, вы утверждаете, что смогли составить полный, бесконечный список **всех** действительных чисел на отрезке от 0 до 1. Вы говорите: "Вот он, я пронумеровал все! Ни одного не пропустил".

Ваш список выглядит как-то так (я использую случайные цифры):

1. `0,`**5** `10582...`
2. `0, 8` **2** `2017...`
3. `0, 18` **3** `912...`
4. `0, 882` **1** `00...`
5. `0, 1234` **5**`...`... и так далее до бесконечности.

Вы уверены, что здесь есть **все** числа. Я же докажу, что это не так, создав всего одно новое число, которого в вашем списке гарантированно нет.

Как я это сделаю? Очень просто.  
Я создам своё число, назову его `D` (от "диагональ").

- Первую цифру `D` после запятой я возьму, посмотрев на **первую** цифру **первого** числа в вашем списке. Там `5`. Я возьму любую другую, например, `6`. `D = 0,6...`
- Вторую цифру `D` я возьму, посмотрев на **вторую** цифру **второго** числа. Там `2`. Я возьму `3`. `D = 0,63...`
- Третью цифру `D` я возьму, посмотрев на **третью** цифру **третьего** числа. Там `3`. Я возьму `4`. `D = 0,634...`
- Четвёртую цифру `D` я возьму, посмотрев на **четвёртую** цифру **четвёртого** числа. Там `1`. Я возьму `2`. `D = 0,6342...`
- И так далее до бесконечности.

Я просто иду по диагонали вашего списка и меняю каждую цифру. Теперь давайте посмотрим на получившееся число `D`. Есть ли оно в вашем списке?

- Может ли `D` быть **первым** числом в списке? Нет, оно отличается от него как минимум первой цифрой после запятой.
- Может ли оно быть **вторым**? Нет, оно отличается второй цифрой.
- Может ли оно быть **N-м** числом в вашем списке? Нет, по самому построению оно будет отличаться от него N-й цифрой.
![](https://habrastorage.org/r/w780/getpro/habr/upload_files/1fa/f41/61e/1faf4161e6c4ff1485c2ed7de0172cae.png)

Получается, я создал число `D`, которого в вашем "полном" списке нет. Ваше утверждение, что список был полным, оказалось ложным. И какой бы список вы ни составили, я всегда смогу повторить этот трюк и найти число, которое вы упустили.

**Вывод:** Создать полный нумерованный список всех действительных чисел **невозможно в принципе**. Множество действительных чисел является **несчётным**. Их бесконечность — другого, более "мощного" сорта, чем бесконечность натуральных чисел.

*К слову, революционные идеи Кантора о разных "мощностях" бесконечности были встречены в штыки математическим сообществом. Великий Анри Пуанкаре называл их "болезнью", а Леопольд Кронекер лично травил Кантора, что привело того к тяжелой депрессии и смерти в психиатрической лечебнице. Такова бывает цена гениальности*

#### Причём здесь непрерывность и Дедекинд?

Этот, казалось бы, абстрактный результат — ключ к пониманию сути непрерывности.

- Счётное множество рациональных чисел (дробей) похоже на бесконечный, но всё же "просеянный" набор точек. Между ними есть "дыры", где сидят иррациональные числа вроде √2. Если бы мы сделали "разрез" по Дедекинду в точке √2, то в множестве рациональных чисел не нашлось бы пограничного элемента.
- Несчётное множество действительных чисел **заполняет** прямую целиком, без единого зазора. Оно настолько "плотное", что его нельзя даже перечислить. Эта несчётность и есть математическое выражение той самой "слитности" и "неразрывности", о которой говорил Аристотель.

Аксиома Дедекинда утверждает, что разрез всегда попадёт в какую-то точку. А диагональный метод Кантора показывает, **почему** это так: точек на прямой настолько "больше", чем номеров в списке, что они образуют сплошную среду, в которой просто негде образоваться "дырке". Они создают тот самый континуум, на котором и строится всё величественное здание математического анализа.

### Глава 9. Красота простоты: как доказать то же самое элегантнее.

Кантор был гением, но его знаменитое доказательство часто затемняет геометрическую суть. Посмотрите, как ту же идею можно доказать наглядно и элегантно.

#### Проблема

Давайте снова сыграем в игру от противного. Предположим, что нам всё-таки удалось пронумеровать все-все вещественные числа на отрезке `[0, 1]`. У нас есть гипотетический полный список:

`x₁, x₂, x₃, x₄, ...`

Мы утверждаем, что в этом списке присутствует **каждая** точка отрезка. Наша задача — построить "ловушку", чтобы поймать это утверждение на лжи. Мы должны найти хотя бы одно число `c` на отрезке `[0, 1]`, которого в этом списке нет.

#### Противоречие

Мы будем действовать как снайпер, последовательно сужая область поиска. Наша цель — построить бесконечную последовательность отрезков, вложенных друг в друга, каждый из которых "уворачивается" от очередного числа из нашего списка.

1. **Шаг 1: Избавляемся от** `**x₁**`.  
	Возьмём наш главный отрезок `I₀ = [0, 1]`. Посмотрим на первое число из списка, `x₁`. Где бы оно ни находилось, мы можем легко выбрать внутри `[0, 1]` такой подотрезок `I₁`, который **не содержит** `x₁`. Например, можно мысленно разделить `[0, 1]` на три части. Точка `x₁` не может находиться во всех трёх частях одновременно. Мы просто выберем ту, в которой её нет.
	*Результат: У нас есть отрезок* `*I₁*`*, и мы точно знаем, что* `*x₁ ∉ I₁*`*.*
2. **Шаг 2: Избавляемся от** `**x₂**`.  
	Теперь возьмём отрезок `I₁` и посмотрим на второе число в списке, `x₂`. Если `x₂` не лежит в `I₁`, отлично, нам ничего делать не надо. Если же `x₂` лежит внутри `I₁`, мы повторим наш трюк: разделим `I₁` на три части и выберем тот подотрезок `I₂`, в котором **нет** точки `x₂`.
	*Результат: У нас есть отрезок* `*I₂ ⊂ I₁*`*, и мы точно знаем, что* `*x₂ ∉ I₂*`*.*
3. **Шаг n: Избавляемся от** `**xₙ**`.  
	Продолжаем этот процесс до бесконечности. На каждом n-ом шаге мы берём отрезок `Iₙ₋₁` и строим внутри него подотрезок `Iₙ` так, чтобы он не содержал число `xₙ`.

В итоге мы получаем бесконечную последовательность **вложенных отрезков**:

`I₀ ⊃ I₁ ⊃ I₂ ⊃ I₃ ⊃ ...`

Причём по самому нашему построению, для любого номера `n`, число `xₙ` не принадлежит отрезку `Iₙ`.

#### Идея!

Вот тут-то на сцену и выходит **Аксиома непрерывности** в форме Принципа вложенных отрезков (его ещё называют Принципом Кантора). Она гласит:

> Для любой бесконечной последовательности вложенных друг в друга **замкнутых** отрезков на числовой прямой, их пересечение непусто. То есть, существует хотя бы одна точка, которая принадлежит **всем** этим отрезкам одновременно.

Наша последовательность `I₁, I₂, ...` в точности удовлетворяет этому условию! А это значит, что должна существовать как минимум одна точка `c`, которая лежит в пересечении всех наших отрезков.

`c ∈ ⋂ Iₙ`

Эта точка `c` точно существует и находится на нашем исходном отрезке `[0, 1]`. А теперь зададим главный вопрос:

**Есть ли эта точка** `**c**` **в нашем "полном" списке** `**x₁, x₂, x₃, ...**`**?**

- Может ли `c` быть равно `x₁`? **Нет**, потому что `c` лежит в отрезке `I₁`, а `I₁` мы специально строили так, чтобы он **не содержал** `x₁`.
- Может ли `c` быть равно `x₂`? **Нет**, потому что `c` лежит в `I₂`, а `I₂` **не содержит** `x₂`.
- Может ли `c` быть равно `xₙ` для любого `n`? **НЕТ!** Потому что по построению `c` принадлежит отрезку `Iₙ`, а `xₙ` — не принадлежит.

**Мы поймали противоречие.** Мы нашли число `c`, которое:  
а) Существует и лежит на отрезке `[0, 1]`.  
б) Не совпадает ни с одним из чисел в нашем списке.

![Доказательство несчетности вложенными отрезками](https://habrastorage.org/r/w780/getpro/habr/upload_files/f48/54b/1a2/f4854b1a26cff373a2c72adb7188b764.png)

Доказательство несчетности вложенными отрезками

Это означает, что исходное предположение ("список был полным") — ложно. Пронумеровать все действительные числа на отрезке невозможно.

#### В чём красота этого доказательства?

Если диагональный метод — это алгебраический, комбинаторный удар, то метод вложенных отрезков — это удар **топологический, геометрический**. Он не зависит от системы счисления (десятичной, двоичной и т.д.). Он апеллирует напрямую к свойству **связности** и **полноты** числовой прямой.

Он наглядно показывает, что как бы мы ни пытались "вычерпать" все точки с числовой прямой по одной, свойство непрерывности всегда гарантирует, что в бесконечно сужающемся "убежище" останется хотя бы одна точка, которую мы упустили.

## Часть III. Собираем правильный анализ: без эпсилон-дельта

### Глава 10. Строим фундамент: аксиомы, определения и теоремы.

Цель этой части — показать, как доказываются фундаментальные теоремы анализа с помощью понятных и притом строгих рассуждений о "точках сгущения", без единого эпсилона, дельты или квантора. Мы построим тот самый анализ, который мог бы быть, если бы в XIX веке победил наглядный подход Гейне, а не формальный подход Коши.

#### 10.1. Правила игры: Аксиоматика действительных чисел

Чтобы наши рассуждения были строгими, мы должны опереться на незыблемый фундамент. Для множества действительных чисел (`ℝ`) таким фундаментом служат три группы аксиом (удобно их принять в качестве аксиом, но они вообще-то все доказываются на основе конструкции Неймана, уже разобранной выше — опустим, так как не относится к анализу).

1. **Аксиомы поля.**
	Говорят о том, что мы можем складывать, вычитать, умножать и делить числа (кроме деления на ноль), и все эти операции ведут себя привычным образом (сложение коммутативно, есть скобки и т.д.). Это правила арифметики.
	Для ценителей строгости: Аксиомы поля
	- `a + b = b + a`
		`(a + b) + c = a + (b + c)`
		`a + 0 = a`
		`a + (-a) = 0`
		`a ⋅ b = b ⋅ a`
		`(a ⋅ b) ⋅ c = a ⋅ (b ⋅ c)`
		`a ⋅ 1 = a`
		`a ⋅ a⁻¹ = 1`
		`a ⋅ (b + c) = a ⋅ b + a ⋅ c`
2. **Аксиомы порядка.**
	Это правила сравнения чисел.
	Для ценителей строгости: Аксиомы порядка
	1. **Аксиома трихотомии:**  
		Для любых двух чисел `a` и `b` выполняется ровно одно из трёх соотношений:  
		a < b, a = b или b < a.
	2. **Аксиома транзитивности:**  
		Если `a ` < `b` и `b ` < `c`, то `a ` < ` c`.
	3. **Связь с операцией сложения:**  
		Если `a ` < ` b`, то для любого `c` выполняется `a + c ` < ` b + c`.
	4. **Связь с операцией умножения:**  
		Если `a ` < ` b` и `c > 0`, то `a ⋅ c ` < ` b ⋅ c`.
3. **Аксиома непрерывности (полноты).**
	Это — королева аксиом, душа анализа. Именно она отличает `ℝ` от `ℚ`. Мы уже обсуждали её в разных формах, и сейчас нам понадобятся все они:
	- **Форма Дедекинда:**
		Любой разрез числовой прямой проходит через какую-то точку. **Дыр нет.**
	- **Форма Кантора:**
		У любой бесконечной последовательности вложенных замкнутых отрезков есть хотя бы одна общая точка. **Ловушка всегда срабатывает.**
	- **Форма Вейерштрасса (о точной верхней грани):**
		У любого непустого и ограниченного сверху множества чисел есть "потолок", к которому можно подойти сколь угодно близко — **точная верхняя грань.**

Эти три кита держат на себе весь континуум, каждый из них эквивалентен каждому из остальных (и выводится из него), то есть это что-то типа триединства.

В формулировках этой аксиомы используются ряд определений, введем их.

**Простейшие числовые множества:**  
Нам понадобятся стандартные "контейнеры" для чисел:

- **Отрезок** `**[a, b]**`**:** Все числа `x` такие, что `a ≤ x ≤ b`. Концы включены.
- **Интервал** `**(a, b)**`**:** Все числа `x` такие, что `a < x < b`. Концы исключены.
- **Полуинтервалы** `**[a, b)**` **и** `**(a, b]**`.
- **Лучи:** Например, `[a, +∞)`.

#### Вложенные отрезки.

> Последовательность отрезков `[a₁, b₁]`, `[a₂, b₂]`,..., `[aₙ, bₙ]`,... называется **последовательностью вложенных отрезков**, если каждый следующий отрезок содержится в предыдущем. Формально: `[aₙ₊₁, bₙ₊₁] ⊂ [aₙ, bₙ]` для любого `n`.

![](https://habrastorage.org/r/w780/getpro/habr/upload_files/f3b/a69/32e/f3ba6932e2de02b0da7654aa0a328c71.png)

**Числовая последовательность** `**{xₙ}**`**:**  
Это просто бесконечный занумерованный набор чисел: `x₁, x₂, x₃, ...`. Представляйте её как вспышки светлячков в ночи, где номер вспышки — это её порядковый номер.

#### Точная верхняя и нижняя грани (Supremum и Infimum)

- Эти понятия формализуют идею "границы" множества, к которой можно подойти вплотную.
	- **Верхняя грань (мажоранта):** Это любое число `M`, которое не меньше всех элементов множества. У ограниченного сверху множества бесконечно много верхних граней (если `M` — верхняя грань, то и `M+1` тоже).
	- **Определение:****Точной верхней гранью (супремумом)** множества `X`, обозначается `sup(X)`, называется **наименьшая из всех его верхних граней**.
	![](https://habrastorage.org/r/w780/getpro/habr/upload_files/300/fff/59a/300fff59a6ee039e633ebe4cd2eaeaa7.png)
	Аналогично определяется **точная нижняя грань (инфимум)**, `inf(X)` — это **наибольшая из всех нижних граней** ("пол", ниже которого не опуститься).

#### 10.2. Наши инструменты: Множества и Последовательности

**Виды последовательностей:**

- **Ограниченная:** Если всех наших светлячков можно накрыть одним большим отрезком.
- **Монотонная:** Если светлячки движутся только в одном направлении.
- *Неубывающая*, если `xₙ₊₁ ≥ xₙ`, и *невозрастающая*, если `xₙ₊₁ ≤ xₙ`.
	#### Окрестность точки
	- **Окрестностью** точки `a` радиуса `r` (где `r` — любое положительное число) называется интервал `(a - r, a + r)`.
	![](https://habrastorage.org/r/w780/getpro/habr/upload_files/843/d26/c26/843d26c264fcd429352b3c6d0d6b0596.png)
	#### Подпоследовательность
	**Подпоследовательностью** исходной последовательности `{x_n}` называется новая последовательность, составленная из некоторых членов исходной, но с сохранением их первоначального порядка. Формально, мы выбираем бесконечную возрастающую последовательность номеров `n₁ < n₂ < n₃ < ...` и рассматриваем только те члены , которые стоят на этих местах.
	![](https://habrastorage.org/r/w780/getpro/habr/upload_files/7d8/03b/203/7d803b203e2a650ec0019d19c3572630.png)

#### 10.3. Сердце анализа: Точка сгущения

Вот мы и подошли к главному понятию, которое заменяет все эпсилон-дельты.

**Проблема**

Как описать "точку притяжения" для нашей последовательности светлячков?

Куда они стремятся?

**Идея**

Точка притяжения — это такое место, где светлячки толпятся. Как бы близко мы ни посмотрели, мы всегда увидим их бесконечное роение.

**Строгое определение без кванторов**

> Число `a` называется **точкой сгущения** (или частичным пределом) последовательности `{xₙ}`, если в любой, сколь угодно малый интервал, содержащий точку `a`, попадает **бесконечное число** членов последовательности.

Представьте, что у вас есть лупа. Если `a` — точка сгущения, то куда бы вы ни навели лупу с центром в `a`, какой бы маленькой она ни была, вы всегда увидите в ней бесконечное множество вспышек наших светлячков.

![Концепция точки сгущения](https://habrastorage.org/r/w780/getpro/habr/upload_files/ad4/f5d/f43/ad4f5df43d9accbc39657a3a72da3dba.png)

Концепция точки сгущения

#### 10.4. Наконец-то! Определяем предел

Теперь определение предела становится до смешного простым.

- **Частичный предел:** Это просто синоним для точки сгущения.
- **Предел последовательности:** Последовательность `{xₙ}` **сходится** к числу `a`, если за пределами некоторого интервала лежит конечное число точек последовательности и у неё есть **только одна** точка сгущения, и эта точка — `a`.

Отдельно несложно разобрать или даже включить случай стремления к бесконечности.

Всё! Никаких эпсилонов. Если у последовательности есть единственный центр притяжения — это её предел. Если центров притяжения несколько (как у `{-1, 1, -1, 1, ...}`, у которой две точки сгущения: -1 и 1), то предела нет.

Если их нет совсем (как у `{1, 2, 3, ...}`), предела тоже нет.

#### 10.5. Три великих теоремы (элементарные доказательства)

Теперь, вооружившись этим мощным и наглядным аппаратом, докажем три фундаментальные теоремы анализа.

**Теорема 1: Сходящаяся к конечному пределу последовательность ограничена.**

- **Дано:** Последовательность `{xₙ}` сходится к `a`.
- **Доказать:** Она ограничена.
- **Доказательство:**
	1. Раз `a` — единственная точка сгущения, то в очень маленьком интервале вокруг `a` находится **бесконечное** число членов последовательности.
	2. А где остальные? Их **конечное** число.
	3. Но если у нас есть конечный набор точек, мы всегда можем найти среди них самую левую и самую правую.
	4. Теперь объединим наш маленький интервал с этим конечным набором. Очевидно, что вся эта конструкция поместится в один большой отрезок. Значит, вся последовательность ограничена.

**Теорема 2: Больцано-Вейерштрасса.**

- **Утверждение:**
	Из всякой ограниченной последовательности можно выделить сходящуюся подпоследовательность.
- **Доказательство:**
	Это утверждение — просто пересказ Аксиомы непрерывности другими словами!
	1. У нас есть бесконечное количество элементов последовательности.
	2. Аксиома непрерывности в форме Вейерштрасса (о точной грани) или в форме Кантора (о вложенных отрезках) гарантирует, что у этого бесконечного множества точек **должна быть** хотя бы одна точка сгущения. Им просто некуда деться, они обязаны где-то "сгуститься".
	3. А раз есть точка сгущения, мы всегда можем построить подпоследовательность, которая к ней сходится (просто выбирая из каждого всё более мелкого интервала вокруг точки по одной точке с растущим номером). Чуть более формально: если бесконечное количество элементов последовательности равно точке сгущения, то в качестве подпоследовательности берем их. Если не так, то на каждом шаге берем следующую точку из окрестности точки сгущения с радиусом, равным расстоянию от точки сгущения до предыдущего элемента последовательности.

**Теорема 3: Вейерштрасса о монотонной последовательности.**

- **Утверждение:** Всякая монотонная и ограниченная последовательность сходится.
- **Доказательство:**
	1. Возьмём неубывающую и ограниченную сверху последовательность.
	2. По теореме Больцано-Вейерштрасса, у этой последовательности есть хотя бы одна точка сгущения `a`.
	3. Предположим, есть вторая точка сгущения `b > a`
	4. Это означает, что в любой окрестности `b` должно быть бесконечно много членов последовательности.
	5. Но раз последовательность неубывающая и "добралась" до окрестности `b`, то все последующие её члены будут ещё правее. Они уже никогда не смогут вернуться в окрестность `a`.
	6. Но если они не могут вернуться, то в окрестности `a` может быть лишь конечное число членов. А это противоречит тому, что `a` — точка сгущения.
	7. Противоречие! Значит, вторая точка сгущения невозможна. Точка сгущения только одна, а значит, последовательность сходится.

*(Подумайте на секунду, что мы только что сделали! Мы доказали одну из ключевых теорем анализа, просто рассуждая о том, что бесконечному числу светлячков (то есть точек) тесно в одной банке (то есть на отрезке). Никаких эпсилонов и дельт, кванторов, только здравый смысл и строгая логика, опирающиеся на аксиому непрерывности).*

#### 10.6. Финал: Непрерывные функции и их магия

Теперь у нас есть всё, чтобы работать с функциями.

**Что такое функция? (Привет от Бурбаки)**  
Забудем про "правило" или "закон". Строго говоря,

> функция `f` из множества `X` в `Y` — это просто подмножество пар `(x, y)`, где `x` из `X`, `y` из `Y`, причём для каждого `x` существует ровно одна пара.

Определение понятия функции по Бурбаки хорошо тем, что оно избегает двусмысленностей и неопределенностей, вместо этого просто отождествляя функцию с ее графиком, делая тем самым само понятие функции элементарным геометрическим.

Теперь определим понятие непрерывности.

> **Непрерывность функции (по Гейне):**  
> Функция `f` непрерывна в точке `c`, если для *любой* последовательности `xₙ`, сходящейся к `c`, последовательность значений `f(xₙ)` сходится к `f(c)`.

Проще говоря, непрерывность в точке означает, что **"предел от функции равен функции от предела"**.

**Теорема Вейерштрасса о непрерывной на отрезке функции.**

Это вишенка на торте всего классического анализа.

- **Утверждение**
	Любая непрерывная на отрезке `[a, b]` функция:
	1. Ограничена на этом отрезке.
	2. Достигает на нём своего наибольшего и наименьшего значения.
- **Доказательство (для наибольшего значения)**
	1. **Докажем, что она ограничена сверху.** Предположим противное: она не ограничена. Это значит, мы можем найти последовательность точек `xₙ` из `[a, b]` такую, что последовательность значений `f(xₙ)` стремится к бесконечности.
	2. Последовательность `xₙ` живёт на отрезке `[a, b]`, значит, она ограничена.
	3. По теореме Больцано-Вейерштрасса, из можно выделить сходящуюся подпоследовательность , которая сходится к некоторой точке `c`. Важно, что так как все лежат в отрезке, то и их предел `c` тоже обязан лежать в отрезке `[a, b]`.
	4. Так как функция `f` непрерывна в точке `c`, то последовательность значений должна сходиться к `f(c)`.
	5. Получили противоречие! По нашему предположению, эти значения улетали в бесконечность, а по свойству непрерывности — они сходятся к конечному числу `f(c)`. Это невозможно. Значит, наше исходное предположение было неверным, и функция ограничена.
	6. **Докажем, что она достигает максимума.** Мы доказали, что множество всех значений `{f(x)}` ограничено сверху. По аксиоме о точной верхней грани, у этого множества есть супремум `M`.
	7. `M` — это "потолок" значений. По определению супремума, мы можем найти последовательность точек `xₙ` из `[a, b]` такую, что `f(xₙ)` сходятся к `M`.
	8. Снова повторяем наш трюк! Последовательность `xₙ` ограничена, из неё можно выделить сходящуюся к точке `c` из `[a, b]` подпоследовательность .
	9. Из-за непрерывности, сходится к `f(c)`.
	10. Но мы знаем, что эта же последовательность сходится к `M`. Раз предел один, то `f(c) = M`.
	11. Бинго! Мы нашли точку `c` на отрезке, значение функции в которой равно её супремуму. То есть, максимум достигается.

*И снова магия! Обратите внимание, как теорема Больцано-Вейерштрасса сработала как идеальный инструмент. Она позволила нам из хаотичной последовательности xₙ "выловить" одну-единственную точку c, которая и оказалась ключом к разгадке. Весь анализ на самом деле построен на таких элегантных переходах от бесконечного к конечному, а от современных студентов это скрывают за томами эпсилон-формализма!*

Мы только что, используя лишь логику и наглядные определения, доказали одну из сложнейших теорем первого курса анализа. Без единого эпсилона. Мы увидели, как вся мощь аксиомы непрерывности (через теорему Больцано-Вейерштрасса) раскрывается в доказательстве свойств функций. Это и есть суть анализа.

### Глава 11. Что дальше? Анализ без страданий и "о-малое".

Мы заложили прочный и, что самое главное, понятный фундамент. Мы определили непрерывность и предел через наглядную идею "точек сгущения" и доказали сложнейшие теоремы, не написав ни одного квантора.

Читатель, привыкший к стандартным курсам, может спросить: "Это всё, конечно, красиво, но ведь дальше начнётся настоящий ад из эпсилон-дельта доказательств производных, интегралов и рядов. От этого никуда не деться?"

А вот и нет. Самое интересное, что дальше всё становится **сильно проще**. Весь классический анализ — производные, теоремы о среднем, ряды Тейлора, интегралы — можно построить, продолжая использовать наш подход. На самом деле совершенно непонятно, зачем на это всё тратить так много времени, как обычно тратят в вузе. Таким образом, для изучения всего полного курса анализа более чем достаточно одного семестра.

Для этого нам понадобится всего один новый инструмент, который является прямым наследником идей о последовательностях и пределах.

#### Знакомьтесь: "о-малое", секретное оружие анализа

**Проблема:**

Как строго говорить о "бесконечно малых величинах", не впадая в метафизику Ньютона и не утопая в неравенствах Коши? Как сказать, что одна функция убывает к нулю "значительно быстрее" другой?

**Идея:**

Вместо того чтобы сравнивать величины через сложные неравенства, давайте введём специальный символ-заполнитель для всех функций, которые ведут себя "очень хорошо" вблизи нуля.

*Программисты хорошо знакомы с "О-большим" ( ), которое описывает, как плохо ведёт себя алгоритм на больших данных. "о-малое" ( о(h) ) - это его зеркальное отражение. Оно описывает, как хорошо ведёт себя функция вблизи нуля, насколько быстро она исчезает. Это язык точности и аппроксимации.*

Пусть h стремится к нулю. Тогда o(h) — это такая поправка, что если мы будем приближаться к точке, ее график будет "прижиматься" к оси X быстрее, чем график самой функции h.

![](https://habrastorage.org/r/w780/getpro/habr/upload_files/f45/6f5/676/f456f567687cdb0f83711af7cb614c9b.png)

**Строгое определение "о-малого" (через предел по Гейне):**

> Говорят, что функция `α(h)` есть **"о-малое"** от `h` при `h → 0`, и пишут `α(h) = o(h)`, если предел их отношения равен нулю:
> 
> `lim (h→0) α(h) / h = 0`

Используя наш аппарат, это определение звучит так:

> Функция `α(h)` есть `o(h)`, если для **любой** последовательности `hₙ`, сходящейся к нулю (где `hₙ ≠ 0`), последовательность `{α(hₙ) / hₙ}` **сходится к нулю**.

**Что это значит на пальцах?**

`o(h)` — это не одна конкретная функция, а **обозначение для целого класса функций**, которые стремятся к нулю **быстрее**, чем просто `h`.

- Например, `h² = o(h)`, потому что `h²/h = h`, а эта величина стремится к нулю.
- `h³ = o(h)`, `sin²(h) = o(h)`.
- А вот `2h ≠ o(h)`, потому что `2h/h = 2`, что не стремится к нулю.

Символ `o(h)` — это элегантный способ "спрятать под ковёр" все неважные, очень быстро исчезающие добавки, сосредоточившись на главной части.

#### Алгебра пренебрежимо малых: Свойства символа "о-малое"

Символ `o(h)` — это не просто обозначение, это полноценный алгебраический инструмент. Чтобы им пользоваться, нужно знать несколько простых правил, которые позволяют производить вычисления не задумываясь. Все свойства ниже предполагают, что `h → 0`.

Свойства символа о-малое.

#### 1\. Поглощение при сложении и вычитании

- **Правило:**`o(h) + o(h) = o(h)`
- **На пальцах:** Сумма двух функций, каждая из которых пренебрежимо мала по сравнению с `h`, тоже будет пренебрежимо мала по сравнению с `h`. "Супермалость" не может сложиться в "обычную малость".
- **Пример:**`h² + h³ = o(h)`. Мы знаем, что `h²` это `o(h)`, и `h³` это тоже `o(h)`. Их сумма, очевидно, тоже стремится к нулю быстрее, чем `h`.

#### 2\. Устойчивость к умножению на константу

- **Правило:**`C ⋅ o(h) = o(h)` (для любой постоянной `C ≠ 0`)
- **На пальцах:** Если вы взяли пренебрежимо малую величину и увеличили её в 500 раз, она всё равно останется пренебрежимо малой по сравнению с `h`. Линейная функция `h` рано или поздно "победит" её при приближении к нулю.
- **Пример:**`1000 ⋅ h² = o(h)`, потому что `(1000h²) / h = 1000h`, что стремится к нулю.

#### 3\. Понижение порядка при умножении на h

- **Правило:**`h ⋅ o(h) = o(h²)`
- **На пальцах:** Если вы умножаете на `h` функцию, которая и так была "супермалой" (относительно `h`), результат становится "вдвойне супермалым" (теперь уже относительно `h²`). Каждое умножение на `h` как бы понижает величину на один порядок малости.
- **Пример:**`h ⋅ h² = h³`. Мы знаем, что `h²` это `o(h)`. Результат `h³` является `o(h²)`, так как `h³/h² = h → 0`.

#### 4\. Иерархия малости (Самое важное правило!)

- **Правило:** Если `n > m > 0`, то `o(hⁿ) = o(hᵐ)`.
- **На пальцах:** Любая функция, которая пренебрежимо мала по сравнению с `h³`, автоматически будет пренебрежимо мала и по сравнению с `h²`. Быть `o(h³)` — это как состоять в очень элитном клубе. Членство в нём автоматически даёт вам пропуск во все менее элитные клубы (`o(h²)`, `o(h)`).
- **Пример:**`h³ = o(h²)`, потому что `h³/h² = h → 0`.

**Практическое следствие этого правила:** При сложении нескольких "о-малых" разного порядка "выживает" самое слабое (с наименьшей степенью).  
`o(h) + o(h²) = o(h)`  
`3h + 5h² + 100h³ = 3h + o(h)` (потому что `5h²` и `100h³` оба являются `o(h)`). Это правило — главный инструмент для упрощения выражений, особенно в рядах Тейлора. Оно позволяет нам легально "отбрасывать" все члены высших порядков, оставляя только самую важную часть.

#### 5\. Свойство для произведения

- **Правило:**`o(hⁿ) ⋅ o(hᵐ) = o(hⁿ⁺ᵐ)`
- **На пальцах:** Порядки малости при перемножении складываются.
- **Пример:** Возьмем `h²` (это `o(h)`) и `h³` (это тоже `o(h)`). Их произведение `h⁵` является `o(h⁴)` или `o(h³)` и т.д. Если точнее, `h² = o(h)` и `h³ = o(h²)`. Их произведение `h⁵` будет `o(h¹⁺²) = o(h³)`.

Эти пять простых правил превращают сложный анализ пределов в простую алгебру.

#### Новый взгляд на производную

Теперь мы можем дать определение производной, которое гораздо мощнее и удобнее стандартного.

**Стандартное определение:**

> `f'(x) = lim (h→0) [f(x+h) - f(x)] / h`

Это определение неудобно, потому что `f'(x)` стоит особняком. Чтобы с ним работать, нужно постоянно таскать за собой громоздкую конструкцию с пределом.

**Определение через "о-малое":**

> Функция `f(x)` **дифференцируема** в точке `x₀`, если её приращение можно представить в виде:  
> `f(x₀ + h) - f(x₀) = A ⋅ h + o(h)`  
> где `A` — это некоторое число, не зависящее от `h`.  
> Это число `A` и называется **производной** `f'(x₀)`.

**В чём гениальность этого подхода?**

Мы заменили предел на **приближённое равенство**. Мы говорим, что приращение функции — это её *линейная часть* (`A⋅h`) плюс ошибка (`o(h)`), которая настолько мала, что на фоне линейной части её можно игнорировать.

Это определение превращает анализ из науки о неравенствах в элегантную алгебру. Все свойства производной (суммы, произведения, сложной функции) доказываются простыми алгебраическими выкладками с `o(h)`, где слагаемые вида `o(h)` ведут себя предсказуемо (например, `o(h) + o(h) = o(h)`, `c ⋅ o(h) = o(h)`).

![](https://habrastorage.org/r/w780/getpro/habr/upload_files/839/9cb/d6e/8399cbd6e37a49e8e56e9402a16a7547.png)

#### Дорожная карта дальнейшего анализа

Имея на руках это мощное определение, вся остальная теория выстраивается в простую логическую цепочку:

1. **Теоремы о локальном поведении.** Из `f(x₀ + h) ≈ f(x₀) + f'(x₀) ⋅ h` мгновенно следует, что если `f'(x₀) > 0`, то справа от `x₀` функция будет чуть больше, а слева — чуть меньше. То есть функция возрастает. Доказательство занимает одну строчку.
2. **Теорема Ролля.** Это фундамент. Она утверждает, что если гладкая функция на концах отрезка принимает одинаковые значения, то где-то между ними у неё есть "горизонтальная точка" (производная равна нулю). Доказательство опирается на уже доказанную нами теорему Вейерштрасса: функция достигает на отрезке максимума или минимума. Если эта точка внутри отрезка, то она и будет искомой.
3. **Теоремы о среднем (Лагранжа и Коши).** Это просто "повёрнутая" теорема Ролля. Если "наклонить" график так, чтобы его концы оказались на одной высоте, применить теорему Ролля, а потом "вернуть" наклон обратно, мы в точности получим теорему Лагранжа. Никаких новых идей не требуется.
4. **Формула Тейлора.**
	Это естественное развитие нашей идеи о производной!
	- Первая производная дала нам линейное приближение:
		`f(x₀ + h) = f(x₀) + f'(x₀)h + o(h)`
	- Формула Тейлора — это просто уточнение этого приближения с помощью старших производных:
		`f(x₀ + h) = f(x₀) + f'(x₀)h + (f''(x₀)/2)h² + ... + o(hⁿ)`
		Она получается из многократного применения теорем о среднем. Это не какая-то новая магия, а логичное продолжение всё той же центральной идеи.
5. **Интегралы, ряды, функции многих переменных...**
	Все эти разделы также строятся гораздо проще. Интеграл как обратная операция к дифференцированию определяется элементарно. Исследование рядов сводится к анализу остаточного члена в формуле Тейлора. А для функций многих переменных определение производной обобщается заменой числа `A` на матрицу (матрицу Якоби), а `o(h)` на `o(||h||)`. Структура остаётся той же!

Надо заметить, что в традиционных курсах анализа огромное количество расписанных эпсилон и дельт в доказательствах сводятся, по сути, к переписыванию заново тривиального утверждений о том, что если функция дифференцируема в точке, то существует окрестность этой точки, в которой она непрерывна, если непрерывна, то существует окрестность, в которой она ограничена, и расписыванию вещей, эквивалентных свойствам "о-малого".

Особо изощренными издевательствами выглядят очень многие классические доказательства из учебников, в которых результат может быть получен сразу определением предела по Гейне, но вместо этого пишут по Коши и расписывают много видов эпсилонов.

Вся стандартная программа анализа может быть переписана в этом стиле — более просто, наглядно, строго и без лишних сложностей с формализмом. Мы заменяем бесконечные выкладки с эпсилонами на алгебраическую работу с приближениями, что гораздо ближе к тому, как математику реально *используют* в физике и инженерии.

## Эпилог. Великий обман: почему анализ — это геометрия, а не алгебра.

Мы прошли долгий и, надеюсь, увлекательный путь. Прежде чем сделать финальный вывод, давайте на мгновение оглянемся назад и посмотрим на маршрут нашего путешествия.

#### Резюме: по следам наших открытий

1. Мы начали с чисто **геометрической** проблемы, над которой бился ещё Аристотель: из чего состоит непрерывная линия?
2. Чтобы разрешить парадокс, мы обратились к идее множеств, которая позволила нам говорить о **геометрических** объектах (отрезках) и дискретных наборах на одном языке.
3. Мы построили числа из пустоты, чтобы дать "имена" точкам на **геометрической** числовой прямой.
4. Мы увидели, что прямая рациональных чисел "дырявая", и ввели аксиому непрерывности — по сути, постулат о **геометрической** сплошности пространства.
5. Мы доказали несчётность континуума, используя либо комбинаторный трюк Кантора, либо, что более красиво, **геометрический** метод вложенных отрезков-"матрёшек".
6. Мы определили центральные понятия анализа — предел и непрерывность — через интуитивно- **геометрическую** идею "точек сгущения".
7. Наконец, мы увидели, что производная — это не просто формула, а **геометрическая** идея о наилучшем линейном приближении (касательной).

Заметили общую тему? На каждом шагу, в самом сердце каждой фундаментальной идеи математического анализа, мы находили **геометрию** и **интуицию о пространстве**.

#### Так в чём же состоит Великий обман?

Великий обман в преподавании математического анализа заключается в **фундаментальной подмене**. Это педагогическое преступление, которое совершается в вузах по всему миру. Нам обещают дать инструмент для описания движения, изменения и формы — то есть, для понимания **геометрии** нашего мира.

А вместо этого нам вручают сухой и безжизненный набор правил для манипуляции неравенствами с эпсилонами и дельтами — то есть, **алгебру**.

**Обман состоит в том, что язык формализации (алгебру неравенств) выдают за суть самого предмета (геометрию и топологию).**

Представьте, что вы пришли в картинную галерею, чтобы научиться понимать живопись, а экскурсовод вместо рассказа о композиции, цвете и сюжете выдаёт вам распечатку с RGB-кодами каждого пикселя каждой картины. Формально, эта распечатка содержит всю информацию о картине. Но даёт ли она понимание? Нет. Она убивает его.

Точно так же поступает классический курс анализа.

- **Предел** — это фундаментальная идея **близости**. Это топология.
- **Производная** — это идея **касательной**, локальной линейности. Это геометрия.
- **Интеграл** — это идея **площади**. Это геометрия.
![](https://habrastorage.org/r/w780/getpro/habr/upload_files/a97/cac/016/a97cac016a21da35bd644cc1907da886.png)

Подход Коши через эпсилон-дельта — это всего лишь один из способов *записать* эти геометрические идеи с помощью алгебраического языка. Этот язык мощен и важен для специалистов, но он не является самой идеей.

![](https://habrastorage.org/r/w780/getpro/habr/upload_files/ca3/f95/e0b/ca3f95e0b7e661c6981f2e0a7896d44a.png)

Подход Гейне через последовательности и точки сгущения — это другой язык, который гораздо ближе к исходной геометрической интуиции.

**Так почему же победил более сложный и менее наглядный подход Коши?**

Ответ кроется в целях "эпохи строгости". Главной задачей математиков XIX века было полностью "очистить" анализ от любых ссылок на "ненадежную" геометрическую интуицию и построить все здание математики на прочном фундаменте арифметики и целых чисел.

Подход Коши через неравенства идеально соответствовал этой цели. Он позволял формулировать и доказывать теоремы, оперируя исключительно числами и сравнениями, создавая иллюзию абсолютной строгости и независимости от чертежей. Геометрическая наглядность была принесена в жертву арифметической формализации. Это была сделка с дьяволом: мы получили броню формальной строгости, но потеряли сам смысл предмета.

Ирония судьбы заключается в том, что пока анализ превращался в бездушную алгебру, сама геометрия в XX веке обрела свою собственную, не менее строгую аксиоматику — сначала через сложную систему Гильберта, а затем через элегантное векто��ное исчисление. Оказалось, что "ненадежной" интуиции можно было придать строгость, не убивая ее. Но поезд уже ушел. Традиция преподавания анализа через эпсилон-дельта укоренилась в университетах по всему миру, порождая поколения студентов и преподавателей, для которых математика — это в первую очередь работа со значками, а не с идеями.

#### Миф о «патологических» контрпримерах

"Постойте, — возразит классический преподаватель, — но ведь анализ полон контрпримеров, ломающих любую интуицию! Как насчет **непрерывной, но нигде не дифференцируемой функции Вейерштрасса**? Это же настоящий монстр! Его нельзя 'увидеть', его можно только доказать через ряды и неравенства. Анализ нельзя делать наглядным, его нужно мыслить строго!"

Этот аргумент — возможно, главный бастион защитников формализма. Но он рушится, если посмотреть на него внимательно. На самом деле, он доказывает прямо противоположное.

#### 1\. Душа "монстров" — чистейшая геометрия

Все эти "ужасы анализа", от функции Кантора до кривой Пеано, строятся в первую очередь **геометрически**. Функция Вейерштрасса, этот хрестоматийный "монстр", рождается из до смешного простого и наглядного процесса:

1. Берем простую пилообразную функцию (зиг-заг).
2. К ней прибавляем ее уменьшенную и более "частую" копию.
3. К результату прибавляем еще более уменьшенную и еще более "частую" копию.
4. И так до бесконечности.

В пределе мы получаем **фрактал** — кривую бесконечной "изломанности". Она непрерывна, потому что на каждом шаге мы ничего не разрываем, а лишь добавляем мелкую "рябь". Но у нее нет касательной ни в одной точке, потому что куда бы вы ни "приблизили" ее с помощью микроскопа, вы никогда не увидите прямой линии — вы всегда увидите новый, еще более мелкий зиг-заг. Пытаться объяснить это свойство через равномерную сходимость рядов Фурье и сложные оценки, **не показав эту простую геометрическую конструкцию** — это и есть педагогическое преступление. Формулы здесь — лишь способ *записать* эту бесконечную геометрическую итерацию, а не сама идея.

#### 2\. Эти примеры не убивают интуицию, а развивают её

"Патологические" примеры не опровергают геометрическую природу анализа. Наоборот, они показывают, насколько богат, удивителен и контринтуитивен сам мир **геометрии континуума**. Наивная школьная интуиция ("раз кривую можно нарисовать, значит, она гладкая") действительно ломается. Но на её место приходит более глубокая, **топологическая интуиция**.

Наука, которая изучает такие фундаментальные свойства пространства, как непрерывность, связность и размерность, называется **топологией**. По своей сути, математический анализ — это и есть **топология числовой прямой**, дополненная понятием меры (длины, площади).

"Монстры" Вейерштрасса и Кантора — это не провал геометрии. Это её триумф! Они показывают, что наша числовая прямая, этот сплошной континуум, который мы так тщательно строили, способна вмещать в себя объекты невообразимой сложности и красоты.

Скрывать эту красоту за стеной алгебраических выкладок — значит лишать студента самого главного: удивления и восторга от осозна��ия того, каким удивительным может быть само понятие "пространства".

#### Разоблачение мифа о "соединении алгебры и анализа"

"Постойте, — скажет классический преподаватель, — но ведь вся суть анализа, со времён Декарта, и состоит в соединении алгебры и геометрии!"

И это правда. Но дьявол, как всегда, в деталях. Декарт предложил использовать алгебру, чтобы **отвечать на вопросы геометрии**. Логика была такой: "У нас есть геометрическая проблема, давайте переведём её на язык алгебры, решим уравнение и вернёмся с ответом в мир геометрии". Геометрия была целью, алгебра — инструментом.

Современное преподавание анализа переворачивает эту логику с ног на голову. Оно превращает алгебру неравенств в самоцель. Студента заставляют годами изучать синтаксис формального языка, втайне надеясь, что однажды он самостоятельно прозреет и увидит за этими формулами исходные геометрические образы.

Но этого почти никогда не происходит. Чаще всего человек либо бросает это дело, либо сам становится "хранителем формализма", который уже не в состоянии отличить строгое рассуждение от нестрогого, если оно не обёрнуто в привычные кванторы.

**Истинная природа анализа — это не "алгебраизация всего", а "придание геометрии строгости".** Мы используем числа и алгебру не для того, чтобы от геометрии избавиться, а для того, чтобы наши интуитивные геометрические представления стали точными, измеримыми и предсказательными, а наши рассуждения — строгими.

Путь, который мы прошли в этой статье — от Аристотеля через точки сгущения к "о-малому" — и есть тот самый естественный путь. Он сохраняет геометрическую суть на каждом шагу, используя алгебру лишь там, где она нужна для ясности и строгости. Это и есть настоящий, живой математический анализ. **И теперь вы его знаете.**

**И это знание — не просто набор фактов. Это новый взгляд на мир.**

Это умение видеть за сложными формулами простые геометрические образы. Это способность отличать суть от формальной оболочки. Это интеллектуальный инструмент, который останется с вами навсегда, чем бы вы ни занимались — программированием, наукой или финансами. Вы не просто выучили несколько теорем — вы научились мыслить как настоящие математики-творцы, для которых математика — это не свод правил, а искусство видеть простое в сложном.

Мы начали с простого вопроса: что такое непрерывность? А закончили путешествием через всю историю математики и философии.

1. Мы увидели, как древние греки столкнулись с парадоксом **дискретного и непрерывного**.
2. Мы узнали, как гениальная идея **множества** позволила говорить о них на одном языке.
3. Мы поняли, как можно определить **непрерывность** через динамический процесс сходящихся последовательностей, избегая сложного формализма.
4. И, наконец, мы нащупали самый глубокий слой — **аксиому полноты**, которая гарантирует, что в нашей числовой прямой нет дыр.
5. Далее мы ввели основные понятия анализа, включая непрерывность множества, предел последовательности и функции, непрерывность функции, не потеряв строгости в изложении и не используя сложного формализма.
6. Затем мы разоблачили Великий обман в системе высшего образования.

Так что в следующий раз, когда вы увидите плавное движение в анимации или график функции, помните, что за этой простой картинкой стоит несколько тысяч лет борьбы человеческого разума с понятием бесконечности, из которой здесь упомянуты только некоторые вехи (а так можно углубиться и написать об этом много книг). И победа в этой борьбе — одна из самых красивых и легендарных историй в науке.

**В конце задам несколько вопросов тем, кто дочитал**

- А как преподавали матанализ вам? Сталкивались ли вы с бессмысленным формализмом?
- Согласны ли вы, что подход через 'точки сгущения' и 'о-малое' более интуитивен? Или у 'эпсилон-дельта' есть свои незаменимые преимущества?
- Какие ещё 'ужасы высшей математики' вам приходилось переживать?
- Купили ли бы вы учебник по матанализу, который использует описанный здесь подход?
- Что для вас было самым большим 'откровением' в этой статье?